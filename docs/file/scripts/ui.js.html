<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">scripts/ui.js | path.ux</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="this is awesome library"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="path.ux"><meta property="twitter:description" content="this is awesome library"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/joeedh/path.ux.git"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/FrameManager.js~Screen.html">Screen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/FrameManager.js~ScreenBorder.html">ScreenBorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/FrameManager.js~ScreenVert.html">ScreenVert</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/FrameManager_ops.js~AreaDragTool.html">AreaDragTool</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/FrameManager_ops.js~AreaResizeTool.html">AreaResizeTool</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/FrameManager_ops.js~SplitTool.html">SplitTool</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/FrameManager_ops.js~ToolBase.html">ToolBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ScreenArea.js~Area.html">Area</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ScreenArea.js~ScreenArea.html">ScreenArea</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ScreenOverdraw.js~Overdraw.html">Overdraw</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/app.js~AppState.html">AppState</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/app.js~CanvasArea.html">CanvasArea</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/config.js~Config.html">Config</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/controller.js~DataAPI.html">DataAPI</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/controller.js~DataPath.html">DataPath</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/controller.js~DataPathError.html">DataPathError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/controller.js~DataStruct.html">DataStruct</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/controller.js~ModelInterface.html">ModelInterface</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/controller.js~ToolPropertyIface.html">ToolPropertyIface</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/events.js~EventHandler.html">EventHandler</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/math.js~Mat4Stack.html">Mat4Stack</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/math.js~MinMax.html">MinMax</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/math.js~PlaneOps.html">PlaneOps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/simple_toolsys.js~Context.html">Context</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/simple_toolsys.js~ToolMacro.html">ToolMacro</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/simple_toolsys.js~ToolOp.html">ToolOp</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/simple_toolsys.js~ToolStack.html">ToolStack</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop.js~EnumProperty.html">EnumProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop.js~FlagProperty.html">FlagProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop.js~FloatProperty.html">FloatProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop.js~IntProperty.html">IntProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop.js~NumProperty.html">NumProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop.js~StringProperty.html">StringProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop.js~ToolProperty.html">ToolProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop_abstract.js~EnumProperty.html">EnumProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop_abstract.js~FlagPropertyIF.html">FlagPropertyIF</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop_abstract.js~FloatProperty.html">FloatProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop_abstract.js~IntProperty.html">IntProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop_abstract.js~NumPropertyIF.html">NumPropertyIF</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop_abstract.js~StringPropertyIF.html">StringPropertyIF</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop_abstract.js~ToolPropertyIF.html">ToolPropertyIF</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop_abstract.js~Vec2Property.html">Vec2Property</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop_abstract.js~Vec3Property.html">Vec3Property</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/toolprop_abstract.js~Vec4Property.html">Vec4Property</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui.js~ColumnFrame.html">ColumnFrame</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui.js~Container.html">Container</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui.js~Label.html">Label</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui.js~PanelFrame.html">PanelFrame</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui.js~RowFrame.html">RowFrame</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui.js~TableFrame.html">TableFrame</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui.js~TableRow.html">TableRow</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_base.js~DataPathError.html">DataPathError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_base.js~IconManager.html">IconManager</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_base.js~SimpleContext.html">SimpleContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_base.js~UIBase.html">UIBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_colorpicker.js~ColorField.html">ColorField</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_colorpicker.js~ColorPicker.html">ColorPicker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_colorpicker.js~SimpleBox.html">SimpleBox</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_colorpicker2.js~ColorField.html">ColorField</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_colorpicker2.js~ColorPicker.html">ColorPicker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_colorpicker2.js~HueField.html">HueField</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_colorpicker2.js~SatValField.html">SatValField</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_colorpicker2.js~SimpleBox.html">SimpleBox</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_curvewidget.js~Curve.html">Curve</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_curvewidget.js~CurvePoint.html">CurvePoint</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_curvewidget.js~CurveWidget.html">CurveWidget</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_noteframe.js~Note.html">Note</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_noteframe.js~NoteFrame.html">NoteFrame</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_tabs.js~ModalTabMove.html">ModalTabMove</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_tabs.js~TabBar.html">TabBar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_tabs.js~TabContainer.html">TabContainer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_tabs.js~TabItem.html">TabItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_widgets.js~Button.html">Button</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_widgets.js~Check.html">Check</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_widgets.js~Check1.html">Check1</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_widgets.js~DropBox.html">DropBox</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_widgets.js~IconButton.html">IconButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_widgets.js~IconCheck.html">IconCheck</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_widgets.js~Menu.html">Menu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_widgets.js~NumSlider.html">NumSlider</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_widgets.js~TextBox.html">TextBox</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/ui_widgets.js~ValueButtonBase.html">ValueButtonBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/util.js~FastHash.html">FastHash</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/util.js~HashIter.html">HashIter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/util.js~IDGen.html">IDGen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/util.js~ImageReader.html">ImageReader</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/util.js~MersenneRandom.html">MersenneRandom</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/util.js~SetIter.html">SetIter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/util.js~cachering.html">cachering</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/util.js~hashtable.html">hashtable</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/util.js~set.html">set</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/vectormath.js~BaseVector.html">BaseVector</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/vectormath.js~Matrix4.html">Matrix4</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/vectormath.js~Quat.html">Quat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/vectormath.js~Vector2.html">Vector2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/vectormath.js~Vector3.html">Vector3</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/vectormath.js~Vector4.html">Vector4</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-registerToolStackGetter">registerToolStackGetter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-registerToolStackGetter">registerToolStackGetter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getAreaIntName">getAreaIntName</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setAreaTypes">setAreaTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setScreenClass">setScreenClass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-start">start</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-registerTool">registerTool</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-copyMouseEvent">copyMouseEvent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isModalHead">isModalHead</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-pushModal">pushModal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getImageData">getImageData</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadImageFile">loadImageFile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-aabb_isect_2d">aabb_isect_2d</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-aabb_isect_line_2d">aabb_isect_line_2d</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-aabb_sphere_isect">aabb_sphere_isect</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-aabb_sphere_isect_2d">aabb_sphere_isect_2d</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-circ_from_line_tan">circ_from_line_tan</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-clip_line_w">clip_line_w</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-closest_point_on_line">closest_point_on_line</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-colinear">colinear</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-convex_quad">convex_quad</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-corner_normal">corner_normal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dist_to_line">dist_to_line</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dist_to_line_2d">dist_to_line_2d</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-expand_line">expand_line</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-expand_rect2d">expand_rect2d</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-gen_circle">gen_circle</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-get_boundary_winding">get_boundary_winding</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-get_rect_lines">get_rect_lines</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-get_rect_points">get_rect_points</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-get_tri_circ">get_tri_circ</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-inrect_2d">inrect_2d</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isect_ray_plane">isect_ray_plane</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-line_isect">line_isect</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-line_line_cross">line_line_cross</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-line_line_isect">line_line_isect</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-makeCircleMesh">makeCircleMesh</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mesh_find_tangent">mesh_find_tangent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-minmax_verts">minmax_verts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-normal_quad">normal_quad</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-normal_tri">normal_tri</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-point_in_aabb">point_in_aabb</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-point_in_aabb_2d">point_in_aabb_2d</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-point_in_tri">point_in_tri</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-project">project</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rot2d">rot2d</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-simple_tri_aabb_isect">simple_tri_aabb_isect</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-unproject">unproject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-winding">winding</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-copyEvent">copyEvent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-popModalLight">popModalLight</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-pushModalLight">pushModalLight</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isNumber">isNumber</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setPropTypes">setPropTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-load_setting">load_setting</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-save_setting">save_setting</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-IsMobile">IsMobile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-_ensureFont">_ensureFont</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-_getFont">_getFont</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-color2css">color2css</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-css2color">css2color</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-drawRoundBox">drawRoundBox</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-drawText">drawText</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getDefault">getDefault</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadUIData">loadUIData</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-makeIconDiv">makeIconDiv</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-measureText">measureText</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-report">report</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-saveUIData">saveUIData</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setIconMap">setIconMap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setTheme">setTheme</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getFieldImage">getFieldImage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-hsv_to_rgb">hsv_to_rgb</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-inv_sample">inv_sample</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rgb_to_hsv">rgb_to_hsv</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sample">sample</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getFieldImage">getFieldImage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getHueField">getHueField</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-hsv_to_rgb">hsv_to_rgb</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-inv_sample">inv_sample</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rgb_to_hsv">rgb_to_hsv</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sample">sample</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-binomial">binomial</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getNoteFrames">getNoteFrames</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-progbarNote">progbarNote</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendNote">sendNote</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-atob">atob</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-btoa">btoa</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-color2css">color2css</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fetch_file">fetch_file</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-merge">merge</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-print_stack">print_stack</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-random">random</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-seed">seed</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-strhash">strhash</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-test_fasthash">test_fasthash</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-time_ms">time_ms</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-AreaTypes">AreaTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-areaclasses">areaclasses</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-config">config</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-APP_VERSION">APP_VERSION</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DataFlags">DataFlags</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DataTypes">DataTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-tool_classes">tool_classes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DomEventTypes">DomEventTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-modalStack">modalStack</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Icons">Icons</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-COLINEAR">COLINEAR</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-COLINEAR_ISECT">COLINEAR_ISECT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-FEPS">FEPS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-FEPS_DATA">FEPS_DATA</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-FLOAT_MAX">FLOAT_MAX</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-FLOAT_MIN">FLOAT_MIN</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LINECROSS">LINECROSS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Matrix4UI">Matrix4UI</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SQRT2">SQRT2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Vector4">Vector4</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-feps">feps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-keymap">keymap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-keymap_latin_1">keymap_latin_1</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-modalstack">modalstack</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-reverse_keymap">reverse_keymap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ToolFlags">ToolFlags</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-UndoFlags">UndoFlags</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PropFlags">PropFlags</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PropSubTypes">PropSubTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PropTypes">PropTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PropFlags">PropFlags</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PropSubTypes">PropSubTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PropTypes">PropTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-DataPathError">DataPathError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SimpleContext">SimpleContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Vector2">Vector2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EnumProperty">EnumProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ErrorColors">ErrorColors</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-IconSheets">IconSheets</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Icons">Icons</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PackFlags">PackFlags</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-UIFlags">UIFlags</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-iconmanager">iconmanager</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-theme">theme</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CURVE_VERSION">CURVE_VERSION</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CurveConstructors">CurveConstructors</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CurveFlags">CurveFlags</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CurveTypes">CurveTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TangentModes">TangentModes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-noteframes">noteframes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-tab_idgen">tab_idgen</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">scripts/ui.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">//bind module to global var to get at it in console.
//
//note that require has an api for handling circular 
//module refs, in such cases do not use these vars.

var _ui = undefined;

import * as util from &apos;./util.js&apos;;
import * as vectormath from &apos;./util.js&apos;;
import * as ui_curvewidget from &apos;./ui_curvewidget.js&apos;;
import * as ui_base from &apos;./ui_base.js&apos;;
import * as ui_widgets from &apos;./ui_widgets.js&apos;;
import * as toolprop from &apos;./toolprop.js&apos;;

let PropFlags = toolprop.PropFlags;
let PropSubTypes = toolprop.PropSubTypes;

let EnumProperty = toolprop.EnumProperty;
  
let Vector2 = vectormath.Vector2,
    UIBase = ui_base.UIBase,
    PackFlags = ui_base.PackFlags,
    PropTypes = toolprop.PropTypes;

export const SimpleContext = ui_base.SimpleContext;
export const DataPathError = ui_base.DataPathError;

var list = function list(iter) {
  let ret = [];
  
  for (let item of iter) {
    ret.push(item);
  }
  
  return ret;
}

export function save_setting(key, val) {
  var settings = localStorage.startup_file_bn6;
  
  if (settings == undefined) {
      settings = {};
  } else {
    try {
      settings = JSON.parse(settings);
    } catch (error) {
      console.log(&quot;Warning, failed to parse cached settings&quot;);
      settings = {};
    }
  }
  
  settings[key] = val;
  localStorage.startup_file_bn6 = JSON.stringify(settings);
}

export function load_setting(key) {
  var settings = localStorage.startup_file_bn6;
  
  if (settings == undefined) {
      settings = {};
  } else {
    try {
      settings = JSON.parse(settings);
    } catch (error) {
      console.log(&quot;Warning, failed to parse cached settings&quot;);
      settings = {};
    }
  }
  
  return settings[key];
}

class ObjectPath extends Array {
    constructor(path) {
        super();
        
        path = path.split(&quot;.&quot;);
        
        for (var key of path) {
            this.push(key);
        }
    }
}

export class Label extends ui_base.UIBase {
  constructor() {
    super();
    
    this.dom = document.createElement(&quot;div&quot;);
    this.dom.style[&quot;font&quot;] = ui_base._getFont(undefined, &quot;LabelText&quot;, false);
    this.dom.style[&quot;color&quot;] = this.getDefault(&quot;LabelTextColor&quot;);
    
    this._label = &quot;&quot;;
    this.shadow.appendChild(this.dom);
  }
  
  init() {
  }
  
  updateDataPath() {
    if (this.ctx === undefined) {
      return;
    }
    
    let path = this.getAttribute(&quot;datapath&quot;);
    let prop = UIBase.getPathMeta(this.ctx, path);
    let val = UIBase.getPathValue(this.ctx, path);
    
    if (val === undefined) {
      return;
    }
    //console.log(path);
    if (prop !== undefined &amp;&amp; prop.type == PropTypes.INT) {
      val = val.toString(prop.radix);
      
      if (prop.radix == 2) {
        val = &quot;0b&quot; + val;
      } else if (prop.radix == 16) {
        val += &quot;h&quot;;
      }
    } else if (prop !== undefined &amp;&amp; prop.type == PropTypes.FLOAT &amp;&amp; val !== Math.floor(val)) {
      val = val.toFixed(prop.decimalPlaces);
    }
    
    val = &quot;&quot;+val;
    
    this.dom.innerText = this._label + val;
  }
  
  update() {
    if (this.hasAttribute(&quot;datapath&quot;)) {
      this.updateDataPath();
    }
  }
  
  get text() {
    return this._label;
    //return this.dom.innerText;
  }
  
  set text(text) {
    this._label = text;
    
    if (!this.hasAttribute(&quot;datapath&quot;)) {
      this.dom.innerText = text;
    }
  }
  
  static define() {return {
    tagname : &quot;label-x&quot;
  };}    
}
ui_base.UIBase.register(Label);

export class Container extends ui_base.UIBase {
  constructor() {
      super();
      
      this.inherit_packflag = 0;
      
      let ul = this.ul = document.createElement(&quot;ul&quot;)
      ul.style[&quot;margin&quot;] = &quot;1px&quot;;
      ul.style[&quot;padding&quot;] = &quot;1px&quot;;
      
      this.div = document.createElement(&quot;div&quot;)
      
      this.div.appendChild(ul);
      ul.style[&quot;list-style-type&quot;] = &quot;none&quot;;

      let style = this.styletag = document.createElement(&quot;style&quot;)
      this.div.setAttribute(&quot;class&quot;, &quot;containerx&quot;);

      style.textContent = `
        ul.containerx {
          margin : 0px;
          padding : 0px;
        }
        
        li.containerx {
          margin : 0px;
          padding : 0px;
        }
      `

      this.setCSS();

      this.shadow.appendChild(style);
      this.shadow.appendChild(this.div);
      
      this.dom = ul;
  }

  init() {
    super.init();
  }

  setCSS() {
    this.styletag.textContent = `div.containerx {
        background-color : ${this.getDefault(&quot;DefaultPanelBG&quot;)};
      }
      `;
  }

  overrideDefault(key, val) {
    super.overrideDefault(key, val);
    this.setCSS();
  }

  noMargins() {
    this.style[&quot;margin&quot;] = this.style[&quot;padding&quot;] = &quot;0px&quot;;
    this.div.style[&quot;margin&quot;] = this.div.style[&quot;padding&quot;] = &quot;0px&quot;;
    this.ul.style[&quot;margin&quot;] = this.ul.style[&quot;padding&quot;] = &quot;0px&quot;;
  }

  setMargin(m) {
    this.style[&quot;margin&quot;] = m + &quot;px&quot;;
    this.div.style[&quot;margin&quot;] = m + &quot;px&quot;;
    this.ul.style[&quot;margin&quot;] = m + &quot;px&quot;;
  }

  setPadding(m) {
    this.style[&quot;padding&quot;] = m + &quot;px&quot;;
    this.div.style[&quot;padding&quot;] = m + &quot;px&quot;;
    this.ul.style[&quot;padding&quot;] = m + &quot;px&quot;;
  }

  setSize(width, height) {
    if (width !== undefined) {
      if (typeof width == &quot;number&quot;)
        this.style[&quot;width&quot;] = this.div.style[&quot;width&quot;] = ~~width + &quot;px&quot;;
      else
        this.style[&quot;width&quot;] = this.div.style[&quot;width&quot;] = width;
    }

    if (height !== undefined) {
      if (typeof height == &quot;number&quot;)
        this.style[&quot;height&quot;] = this.div.style[&quot;height&quot;] = ~~height + &quot;px&quot;;
      else
        this.style[&quot;height&quot;] = this.div.style[&quot;height&quot;] = height;
    }
  }

  get background() {
    return this.__background;
  }
  
  set background(bg) {
    this.__background = bg;
    
    this.styletag.textContent = `div.containerx {
        background-color : ${bg};
      }
    `;
    this.style[&quot;background-color&quot;] =  bg;
    this.dom.style[&quot;background-color&quot;] = bg;
  }
  
  static define() {return {
    tagname : &quot;container-x&quot;
  };}
  
  save() {
  }
  
  load() {
  }
  
  saveVisibility() {
    localStorage[this.storagePrefix + &quot;_settings&quot;] = JSON.stringify(this);
    return this;
  }
  
  loadVisibility() {
    let key = this.storagePrefix + &quot;_settings&quot;;
    let ok = true;
    
    if (key in localStorage) {
      console.log(&quot;loading UI visibility state. . .&quot;);
      
      try {
        this.loadJSON(JSON.parse(localStorage[key]));
      } catch (error) {
        util.print_stack(error);
        ok = false;
      }
    }
    
    return ok;
  }
  
  toJSON() {
    let ret = {
      opened : !this.closed
    };
          
    return Object.assign(super.toJSON(), ret);
  }
  
  _ondestroy() {
    for (let child of this.children) {
      child._ondestroy();
    }
    
    super._ondestroy();
  }
  loadJSON(obj) {
    //console.error(&quot;ui.js:Container.loadJSON: implement me!&quot;);
    
    return this;
  }
  
  redrawCurves() {
    throw new Error(&quot;Implement me (properly!)&quot;);
    
    if (this.closed)
      return;
    
    for (let cw of this.curve_widgets) {
      cw.draw();
    }
  }
  
  listen() {
    window.setInterval(() =&gt; {
      this.update();
    }, 150);
  }
  
  get children() {
    let list = [];
    
    this._forEachChildren((n) =&gt; {
      list.push(n);
    });
    
    return list
  }
  
  update() {
    super.update();
    //this._forEachChildren((n) =&gt; {
    //  n.update();
    //});
  }
  
  //on_destroy() {
  //  super.on_destroy();
    //this.dat.destroy();
  //}
  
  appendChild(child) {
    if (child instanceof ui_base.UIBase) {
      child.ctx = this.ctx;
      child.parentWidget = this;
    }
    
    let ret = super.appendChild(child);

    if (child instanceof ui_base.UIBase) {
      child.onadd();
    }
    
    return ret;
  }
  
  clear() {
    for (let child of this.children) {
      if (child instanceof ui_base.UIBase) {
        child.remove();
        
        if (child.on_destroy !== undefined) 
          child.on_destroy();
      }
    }
  }

  add(child) {
    return this._add(child);
  }

  _add(child) {
    if (child instanceof NodeList) {
      throw new Error(&quot;eek!&quot;);
    }
    
    child.parentWidget = this;
    child.ctx = this.ctx;
    
    let li = document.createElement(&quot;li&quot;);
    li.setAttribute(&quot;class&quot;, &quot;containerx&quot;);

    li.style[&quot;list-style-type&quot;] = &quot;none&quot;;
    li.appendChild(child);
    
    this.dom.appendChild(li);

    child.onadd();
    
    return li;
  }
  
  /*
  .menu([
    &quot;some_tool_path.tool&quot;,
    ui_widgets.Menu.SEP,
    &quot;some_tool_path.another_tool&quot;,
    [&quot;Name&quot;, () =&gt; {console.log(&quot;do something&quot;)}]
  ])
  */ 
  menu(title, list, packflag=0) {
    let dbox = document.createElement(&quot;dropbox-x&quot;);
    
    dbox._name = title;
    dbox.setAttribute(&quot;simple&quot;, true);
    dbox.setAttribute(&quot;name&quot;, title);
    
    dbox._build_menu = () =&gt; {
      if (this._menu !== undefined &amp;&amp; this._menu.parentNode !== undefined) {
        this._menu.remove();
      }
      
      let menu = dbox._menu = document.createElement(&quot;menu-x&quot;);
      //menu.setAttribute(&quot;name&quot;, title);
      
      let SEP = menu.constructor.SEP;
      let id = 0;
      let cbs = {};
      
      for (let item of list) {
        if (typeof item == &quot;string&quot;) {
          let def;
          try {
            def = this.ctx.api.getToolDef(item);
          } catch (error) {
            menu.addItem(&quot;(tool path error)&quot;, id++);
            continue;
          }
          //addItemExtra(text, id=undefined, hotkey, icon=-1, add=true) {
          menu.addItemExtra(def.uiname, id, def.hotkey, def.icon);
          let this2 = this;

          cbs[id] = (function (toolpath) {
            return function() {
              this2.ctx.api.execTool(this.ctx, toolpath);
            }
          })(item);
          
          id++;
        } else if (item === SEP) {
          menu.seperator();
        } else if (item instanceof Array) {
          let hotkey = item.length &gt; 2 ? item[2] : undefined;
          let icon = item.length &gt; 3 ? item[3] : undefined;

          menu.addItemExtra(item[0], id, hotkey, icon);

          cbs[id] = (function (cbfunc, arg) {
            return function() {
              cbfunc(arg);
            }
          })(item[1], item[2]);
          
          id++;
        }
      }
      
      menu.onselect = (id) =&gt; {
        cbs[id]();
      }
    };
    
    dbox.packflag |= packflag;
    dbox.inherit_packflag |= packflag;
    
    this._add(dbox);
    return dbox;
  }
  
  tool(path_or_cls, packflag=0, create_cb=undefined) {
    let cls;
    
    if (typeof path_or_cls == &quot;string&quot;) {
      if (this.ctx === undefined) {
        console.warn(&quot;this.ctx was undefined in tool()&quot;);
        return;
      }
      
      cls = this.ctx.api.parseToolPath(path_or_cls);
      
      if (cls === undefined) {
        console.warn(&quot;Unknown tool for toolpath \&quot;&quot; + path_or_cls + &quot;\&quot;&quot;);
        return;
      }
    } else {
      cls = path_or_cls;
    }
    
    packflag |= this.inherit_packflag;
    
    if (create_cb === undefined) {
      create_cb = (cls) =&gt; {
        return new cls();
      }
    }

    let cb = () =&gt; {
      console.log(&quot;tool run&quot;);
      
      let toolob = create_cb(cls);
      this.ctx.api.execTool(this.ctx, toolob);
    }
    
    let def = cls.tooldef();
    let tooltip = def.description === undefined ? def.uiname : def.description;
    
    if (def.hotkey !== undefined) {
      tooltip += &quot;\n\t&quot; + def.hotkey;
    }
    
    let ret;
    
    if (def.icon !== undefined &amp;&amp; (packflag &amp; PackFlags.USE_ICONS)) {
      console.log(&quot;iconbutton!&quot;);
      ret = this.iconbutton(def.icon, tooltip, cb);
      
      if (packflag &amp; PackFlags.SMALL_ICON) {
        ret.iconsheet = ui_base.IconSheets.SMALL;
      } else {
        ret.iconsheet = ui_base.IconSheets.LARGE;
      }

      ret.packflag |= packflag;
    } else {
      ret = this.button(def.uiname, cb);
      ret.description = tooltip;
      ret.packflag |= packflag;
    }
    
    return ret;
  }
  
  //supports number types
  textbox(path, text, cb, packflag=0) {
    packflag |= this.inherit_packflag;
    
    let ret = document.createElement(&quot;textbox-x&quot;)
  
    ret.ctx = this.ctx;
    ret.packflag |= packflag;
    ret.onchange = cb;
    ret.text = text;
    
    if (path !== undefined) {
      ret.setAttribute(&quot;datapath&quot;, path);
    }
    
    this._add(ret);
    return ret;
  }
  
  pathlabel(path, label=&quot;&quot;) {
    let ret = document.createElement(&quot;label-x&quot;);
    
    ret.text = label;
    ret.setAttribute(&quot;datapath&quot;, path);
    
    this._add(ret);
    
    return ret;
  }
  
  label(text) {
    let ret = document.createElement(&quot;label-x&quot;);
    ret.text = text;

    this._add(ret);
    
    return ret;
  }
  
  iconbutton(icon, description, cb, thisvar, packflag=0) {
    packflag |= this.inherit_packflag;
    
    let ret = document.createElement(&quot;iconbutton-x&quot;)
  
    ret.packflag |= packflag;
    
    ret.setAttribute(&quot;icon&quot;, icon);
    ret.description = description;
    ret.icon = icon;

    if (packflag &amp; PackFlags.SMALL_ICON) {
      ret.iconsheet = ui_base.IconSheets.SMALL;
    } else {
      ret.iconsheet = ui_base.IconSheets.LARGE;
    }
    
    ret.onclick = cb;
    
    this._add(ret);
    
    return ret;
  }
  
  button(label, cb, thisvar, id, packflag=0) {
    packflag |= this.inherit_packflag;
    
    let ret = document.createElement(&quot;button-x&quot;)
  
    ret.packflag |= packflag;
    
    ret.setAttribute(&quot;name&quot;, label);
    ret.setAttribute(&quot;buttonid&quot;, id);
    ret.onclick = cb;
    
    this._add(ret);
    
    return ret;
  }
  
  _path_get(path) {
    if (typeof path == &quot;string&quot; || path instanceof String) {
      path = new ObjectPath(path);
    }
    
    var obj = this.state;
    var parentobj = undefined;
    
    for (var key of path) {
      parentobj = obj;
      
      obj = obj[key];
    }
    
    return [obj, parentobj];
  }

  prop(path, packflag=0, mass_set_path=undefined) {
    packflag |= this.inherit_packflag;

    let rdef = this.ctx.api.resolvePath(this.ctx, path);

    if (rdef === undefined || rdef.prop === undefined) {
      console.warn(&quot;Unknown property at path&quot;, path, this.ctx.api.resolvePath(this.ctx, path));
      return;
    }
    //slider(path, name, defaultval, min, max, step, is_int, do_redraw, callback, packflag=0) {
    let prop = rdef.prop;

    //console.log(prop, PropTypes, PropSubTypes);

    if (prop.type == PropTypes.INT || prop.type == PropTypes.FLOAT) {
      let ret = this.slider(path);

      if (mass_set_path) {
        ret.setAttribute(&quot;mass_set_path&quot;, mass_set_path);
      }

      return ret;
    } else if (prop.type == PropTypes.ENUM) {
      if (!(packflag &amp; PackFlags.USE_ICONS)) {
        this.listenum(path, undefined, undefined, this.ctx.api.getValue(this.ctx, path), undefined, undefined, packflag);
      } else {
        this.checkenum(path, undefined, packflag);
      }
    } else if (prop.type == PropTypes.VEC3 || prop.type == PropTypes.VEC4) {
      if (prop.subtype == PropSubTypes.COLOR) {
        this.colorPicker(path, packflag, mass_set_path);
      } else {

      }
    }
  }

  check(path, name, packflag=0) {
    packflag |= this.inherit_packflag;
    
    //let prop = this.ctx.getProp(path);
    let ret;
    if (packflag &amp; PackFlags.USE_ICONS) {
      ret = document.createElement(&quot;iconcheck-x&quot;);
      
      if (packflag &amp; PackFlags.SMALL_ICON) {
        ret.iconsheet = ui_base.IconSheets.SMALL;
      }
    } else {
      ret = document.createElement(&quot;check-x&quot;);
    }
    
    ret.packflag |= packflag;
    ret.label = name;
    ret.setAttribute(&quot;datapath&quot;, path);
    
    this._add(ret);
    
    ret.update();
    
    return ret;
  }

  checkenum(path, name, packflag, enummap, defaultval, callback, iconmap, mass_set_path) {
    packflag = packflag === undefined ? 0 : packflag;
    packflag |= this.inherit_packflag;
    
    /*let ret = document.createElement(&quot;dropbox-x&quot;)
    ret.prop = new ui_base.EnumProperty(defaultval, enummap, path, name);
    
    if (iconmap !== undefined) {
      ret.prop.addIcons(iconmap)
    }//*/
    
    let has_path = path !== undefined;
    
    if (path !== undefined) {
      let prop = this.ctx.api.resolvePath(this.ctx, path).prop;
      
      if (prop === undefined) {
        console.warn(&quot;Bad path in checkenum&quot;, path);
        return;
      }
      
      let frame;
      
      if (packflag &amp; PackFlags.VERTICAL) {
        frame = this.col();
      } else {
        frame = this.row();
      }
      
      frame.background = this.getDefault(&quot;BoxSubBG&quot;);

      if (packflag &amp; PackFlags.USE_ICONS) {
        for (let key in prop.values) {
          let check = frame.check(path + &quot; == &quot; + prop.values[key], &quot;&quot;, packflag);
          
          check.icon = prop.iconmap[key];
          
          check.style[&quot;padding&quot;] = &quot;0px&quot;;
          check.style[&quot;margin&quot;] = &quot;0px&quot;;
          frame.style[&quot;padding&quot;] = &quot;0px&quot;;
          frame.style[&quot;margin&quot;] = &quot;0px&quot;;
          if (packflag &amp; PackFlags.VERTICAL) {
            frame.style[&quot;margin-top&quot;] = &quot;4px&quot;;
            frame.style[&quot;margin-bottom&quot;] = &quot;4px&quot;;
          } else {
            frame.style[&quot;margin-left&quot;] = &quot;4px&quot;;
            frame.style[&quot;margin-right&quot;] = &quot;4px&quot;;
          }

          check.dom.style[&quot;padding&quot;] = &quot;0px&quot;;
          check.dom.style[&quot;margin&quot;] = &quot;0px&quot;;
          
          check.description = prop.ui_value_names[key];
          
          console.log(&quot;PATH&quot;, path);
        }          
      } else {
        for (let key in prop.values) {
          frame.check(path + &quot; = &quot; + prop.values[key], prop.ui_value_names[key]);
          console.log(&quot;PATH&quot;, path);
        }
      }
    }
  }
  
  /*
    enummap is an object that maps
    ui names to keys, e.g.:
    
    ui.listenum(&quot;color&quot;, &quot;Color&quot;, {
      RED   : 0,
      GREEN : 1,
      BLUE  : 2
    });

    path can be undefined, in which case, use callback,
    which gets the current enum as an argument

    defaultval cannot be undefined
  */
  listenum(path, name, enummap, defaultval, callback, iconmap, packflag=0) {
    packflag |= this.inherit_packflag;
    
    let ret = document.createElement(&quot;dropbox-x&quot;)
    if (enummap !== undefined) {
      ret.prop = new ui_base.EnumProperty(defaultval, enummap, path, name);
    
      if (iconmap !== undefined) {
        ret.prop.addIcons(iconmap)
      }
    } else {
      let res = this.ctx.api.resolvePath(this.ctx, path);
      ret.prop = res.prop;

      name = name === undefined ? res.prop.uiname : name;
    }
    
    if (path !== undefined) {
      ret.setAttribute(&quot;datapath&quot;, path);
    }

    ret.setAttribute(&quot;name&quot;, name);
    
    ret.onselect = (id) =&gt; {
      if (callback !== undefined) {
        callback(id);
      }
    }
    
    ret.packflag |= packflag;
    
    this._add(ret);
    return ret;
  }
  
  getroot() {
    let p = this;
    
    while (p.parent !== undefined) {
      p = p.parent;
    }
    
    return p;
  }
  
  curve(id, name, default_preset, packflag=0) {
    packflag |= this.inherit_packflag;
    
    //XXX don&apos;t forget to OR packflag into widget
    throw new Error(&quot;implement me!&quot;);
    
    var cw = new CurveWidget(this.storagePrefix + id);
    
    if (default_preset !== undefined)
      cw.load(default_preset);
    
    var l = this.dat.add({bleh : &quot;name&quot;}, &quot;bleh&quot;);
    
    var parent = l.domElement.parentElement.parentElement.parentElement;
    
    parent[&quot;class&quot;] = parent.style[&quot;class&quot;] = &quot;closed&quot;;
    
    cw.bind(parent, this);
    cw.draw();
    
    l.remove();
    
    this.curve_widgets.push(cw);
    
    return cw;
  }

  slider(path, name, defaultval, min, max, step, is_int, do_redraw, callback, packflag=0) {
    packflag |= this.inherit_packflag;

    let ret = document.createElement(&quot;numslider-x&quot;)
    ret.packflag |= packflag;
    
    if (path) {
      ret.setAttribute(&quot;datapath&quot;, path);

      let rdef = this.ctx.api.resolvePath(this.ctx, path);
      if (rdef &amp;&amp; rdef.prop) {
        let prop = rdef.prop;

        let range = prop.ui_range !== undefined ? prop.ui_range : prop.range;
        range = range === undefined ? [-10000, 10000] : range;

        if (min===undefined)
          min = range[0];
        if (max===undefined)
          max = range[1];
        if (is_int === undefined)
          is_int = prop.type === PropTypes.INT;
        if (name === undefined)
          name = prop.uiname;
        if (step === undefined)
          step = prop.step;
      } else {
        console.warn(&quot;warning, failed to lookup property info for path&quot;, path);
      }
    }

    if (name)
      ret.setAttribute(&quot;name&quot;, name);
    if (min !== undefined)
      ret.setAttribute(&quot;min&quot;, min);
    if (max !== undefined)
      ret.setAttribute(&quot;max&quot;, max);
    if (is_int)
      ret.setAttribute(&quot;is_int&quot;, is_int);

    if (callback) {
      ret.onchange = callback;
    }
    
    this._add(ret);
    
    return ret;
  }
  
  panel(name, id, packflag=0) {
    id = id === undefined ? name : id;
    packflag |= this.inherit_packflag;
    
    let ret = document.createElement(&quot;panelframe-x&quot;);

    ret.packflag |= packflag;
    ret.inherit_packflag |= packflag;

    ret.setAttribute(&quot;title&quot;, name);
    ret.setAttribute(&quot;id&quot;, id);
    
    this._add(ret);
    
    ret.ctx = this.ctx;
    
    return ret;      
  }
  
  row(packflag=0) {
    packflag |= this.inherit_packflag;
    
    let ret = document.createElement(&quot;rowframe-x&quot;);
    
    ret.packflag |= packflag;
    ret.inherit_packflag |= packflag;
    
    this._add(ret);
    
    ret.ctx = this.ctx;
    
    return ret;      
  }
  
  table(packflag=0) {
    packflag |= this.inherit_packflag;
    
    let ret = document.createElement(&quot;tableframe-x&quot;);
    ret.packflag |= packflag;
    ret.inherit_packflag |= packflag;
    
    this._add(ret);
    return ret;      
  }
  
  col(packflag=0) {
    packflag |= this.inherit_packflag;
    
    let ret = document.createElement(&quot;colframe-x&quot;);
    ret.packflag |= packflag;
    ret.inherit_packflag |= packflag;
    
    this._add(ret);
    return ret;      
  }
  
  colorPicker(path, packflag=0, mass_set_path=undefined) {
    packflag |= this.inherit_packflag;
    
    let ret = document.createElement(&quot;colorpicker-x&quot;);
    
    ret.constructor.setDefault(ret);
    ret.packflag |= packflag;
    ret.inherit_packflag |= packflag;

    if (path !== undefined) {
      ret.setAttribute(&quot;datapath&quot;, path);
    }

    if (mass_set_path) {
      ret.setAttribute(&quot;mass_set_path&quot;, mass_set_path);
    }

    //XXX
    window.colorpicker = ret;

    this._add(ret);
    return ret;
  }
  
  //
  tabs(position=&quot;top&quot;, packflag=0) {
    packflag |= this.inherit_packflag;
    
    let ret = document.createElement(&quot;tabcontainer-x&quot;);
    
    ret.constructor.setDefault(ret);
    ret.setAttribute(&quot;bar_pos&quot;, position);
    ret.packflag |= packflag;
    ret.inherit_packflag |= packflag;
    ret.ctx = this.ctx;

    this._add(ret);
    return ret;
  }
};

ui_base.UIBase.register(Container, &quot;div&quot;);


export class RowFrame extends Container {
  constructor() {
    super();
    
    this.dom.style[&quot;display&quot;] = &quot;inline-block&quot;;
  }

  _add(child) {
    let li = super._add(child);
    li.style[&quot;display&quot;] = &quot;inline-block&quot;
    return li;
  }
  
  update() {
    this.style[&quot;display&quot;] = &quot;inline-block&quot;;
    super.update();
  }
  
  static define() {return {
    tagname : &quot;rowframe-x&quot;
  };}
}
UIBase.register(RowFrame);

export class ColumnFrame extends Container {
  constructor() {
    super();
    
    //this.dom.style[&quot;display&quot;] = &quot;block&quot;;
  }
  
  update() {
    this.style[&quot;display&quot;] = &quot;inline-block&quot;;      
    super.update();
  }
  
  static define() {return {
    tagname : &quot;colframe-x&quot;
  };}
}
UIBase.register(ColumnFrame);

export class TableRow extends Container {
  constructor() {
    super();
    
    this.dom.remove();
    this.dom = document.createElement(&quot;tr&quot;);
    
    //kind of dumb, but this.dom doesn&apos;t live within this element itself, bleh
    //this.shadow.appendChild(this.dom);
    this.dom.setAttribute(&quot;class&quot;, &quot;containerx&quot;);
  }
  
  static define() {return {
    tagname : &quot;tablerow-x&quot;
  };}
  
  _add(child) {
    child.ctx = this.ctx;
    child.parentWidget = this;

    let td = document.createElement(&quot;td&quot;);
    td.appendChild(child);
    
    this.dom.appendChild(td);
    child.onadd();
  }
};
UIBase.register(TableRow);

export class TableFrame extends Container {
  constructor() {
    super();
    
    this.dom.remove();
    this.dom = document.createElement(&quot;table&quot;);
    this.shadow.appendChild(this.dom);
    this.dom.setAttribute(&quot;class&quot;, &quot;containerx&quot;);
    
    //this.dom.style[&quot;display&quot;] = &quot;block&quot;;
  }
  
  update() {
    this.style[&quot;display&quot;] = &quot;inline-block&quot;;      
    super.update();
  }

  _add(child) {
    child.ctx = this.ctx;
    child.parentWidget = this;
    this.dom.appendChild(child);
    child.onadd();
  }
  
  row() {
    let tr = document.createElement(&quot;tr&quot;);
    let cls = &quot;table-tr&quot;;
    
    tr.setAttribute(&quot;class&quot;, cls);
    this.dom.appendChild(tr);
    let this2 = this;
    
    function maketd() {
      let td = document.createElement(&quot;td&quot;);
      tr.appendChild(td);
      
      td.style[&quot;margin&quot;] = tr.style[&quot;margin&quot;];
      td.style[&quot;padding&quot;] = tr.style[&quot;padding&quot;];
      
      let container = document.createElement(&quot;rowframe-x&quot;);
      
      container.ctx = this2.ctx;
      container.setAttribute(&quot;class&quot;, cls);
      container.dom.setAttribute(&quot;class&quot;, cls);
      td.setAttribute(&quot;class&quot;, cls);
      
      //let div2 = document.createElement(&quot;div&quot;);
      //div2.setAttribute(&quot;class&quot;, cls);
      //div2.innerHTML = &quot;sdfsdf&quot;;
      
      //td.appendChild(div2);
      td.appendChild(container);
      
      return container;
    }
    
    //hrm wish I could subclass html elements easier
    let ret = {
      _tr : tr,
      
      style : tr.style,
      
      focus : function(args) {
        tr.focus(args);
      },
      
      blur : function(args) {
        tr.blur(args);
      },
      
      remove : () =&gt; {
        tr.remove();
      },
      
      addEventListener : function(type, cb, arg) {
        tr.addEventListener(type, cb, arg);
      },
      
      removeEventListener : function(type, cb, arg) {
        tr.removeEventListener(type, cb, arg);
      },
      
      setAttribute : function(attr, val) {
        if (attr == &quot;class&quot;) {
          cls = val;
        }
        
        tr.setAttribute(attr, val);
      },
      
      clear : function() {
        for (let node of list(tr.childNodes)) {
          tr.removeChild(node);
        }
      }
    };

    function makefunc(f) {
      ret[f] = function() {
        let container = maketd();
        
        container.background = tr.style[&quot;background-color&quot;]; //&quot;rgba(0,0,0,0)&quot;;
        return container[f].apply(container, arguments);
      }
    }
    
    let _bg = &quot;&quot;;
    
    //need to implement proper proxy here!
    Object.defineProperty(ret, &quot;tabIndex&quot;, {
      set : function(f) {
        tr.tabIndex = f;
      },
      
      get : function(f) {
        return tr.tabIndex;
      }
    });
    
    Object.defineProperty(ret, &quot;background&quot;, {
      set : function(bg) {
        _bg = bg;
        tr.style[&quot;background-color&quot;] = bg;
        
        for (let node of tr.childNodes) {
          if (node.childNodes.length &gt; 0) {
            node.childNodes[0].background = bg;
            node.style[&quot;background-color&quot;] = bg;
          }
        }
      }, get : function() {
        return _bg;
      }
    });
    
    /*
    Object.defineProperty(ret, &quot;class&quot;, {
      set(bg) {
        tr.class = bg;
      }
    });//*/
    
    makefunc(&quot;label&quot;);
    makefunc(&quot;tool&quot;);
    makefunc(&quot;pathlabel&quot;);
    makefunc(&quot;button&quot;);
    makefunc(&quot;textbox&quot;);
    makefunc(&quot;col&quot;);
    makefunc(&quot;row&quot;);
    makefunc(&quot;table&quot;);
    makefunc(&quot;listenum&quot;);
    makefunc(&quot;check&quot;);
    
    return ret;
  }
  
  update() {
    super.update();
  }
  
  clear() {
    super.clear();
    for (let child of list(this.dom.childNodes)) {
      child.remove();
    }
  }
  
  static define() {return {
    tagname : &quot;tableframe-x&quot;
  };}
}
UIBase.register(TableFrame);

export class PanelFrame extends Container {
  constructor() {
    super();
    
    this._closed = false;
  }
  
  saveData() {
    let ret = {
      _closed : this._closed
    };
    
    return Object.assign(super.saveData(), ret);
  }
  
  loadData(obj) {
    this.closed = obj._closed;
  }
  
  init() {
    let con = this.frame = new Container();
    
    //con.style[&quot;margin-left&quot;] = &quot;5px&quot;;
    this.setCSS();

    let row = con.row();
    
    let iconcheck = document.createElement(&quot;iconcheck-x&quot;);
    this.iconcheck = iconcheck;

    this.style[&quot;width&quot;] = &quot;100%&quot;;

    iconcheck.overrideDefault(&quot;BoxBG&quot;, &quot;rgba(0,0,0,0)&quot;);
    iconcheck.overrideDefault(&quot;BoxSubBG&quot;, &quot;rgba(0,0,0,0)&quot;);
    iconcheck.overrideDefault(&quot;BoxDepressed&quot;, &quot;rgba(0,0,0,0)&quot;);
    iconcheck.overrideDefault(&quot;BoxBorder&quot;, &quot;rgba(0,0,0,0)&quot;);

    iconcheck.ctx = this.ctx;
    iconcheck._icon_pressed = ui_base.Icons.UI_EXPAND;
    iconcheck._icon = ui_base.Icons.UI_COLLAPSE;
    iconcheck.iconsheet = ui_base.IconSheets.SMALL;
    iconcheck.checked = this._closed;
    
    this.iconcheck.onclick = (e) =&gt; {
      this.closed = this.iconcheck.checked;
      console.log(&quot;icon click!&quot;, this.checked);
    };
    
    row._add(iconcheck);
    
    //stupid css, let&apos;s just hackishly put &quot; &quot; to create spacing2
    row.label(this.getAttribute(&quot;title&quot;));
    
    row.background = con.background = this.getDefault(&quot;BoxSubBG&quot;);
    row.style[&quot;padding-right&quot;] = &quot;20px&quot;;
    row.style[&quot;padding-left&quot;] = &quot;5px&quot;;
    
    this.dom.remove();

    this.dom.style[&quot;padding-left&quot;] = &quot;10px&quot;;

    this.shadowRoot.appendChild(con);
    con.shadowRoot.appendChild(this.dom);
  }
  
  static define() {return {
    tagname : &quot;panelframe-x&quot;
  };}
  
  update() {
    super.update();
  }
  
  _updateClosed() {
    console.log(this._closed);
    if (this._closed) {
      this.dom.remove();
    } else {
      this.frame.shadow.appendChild(this.dom);
    }
    this.iconcheck.checked = this._closed;
  }
  
  get closed() {
    return this._closed;
  }
  
  set closed(val) {
    let update = !!val != !!this.closed;
    this._closed = val;
    
    console.log(&quot;closed set&quot;, update);
    if (update)
      this._updateClosed();
  }
}
UIBase.register(PanelFrame);
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
